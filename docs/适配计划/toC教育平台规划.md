 综合分析：产品形态 × 场景价值 × Skills × UI/UX

  一、当前状态 vs 需求差距

  你已经建好的：
  - LangGraph 多智能体后端（5 个子 Agent + 11 个 Skills）
  - 通用聊天 UI（deep-agents-ui 模板原封不动）
  - 核心知识体系完整（AGENTS.md 非常扎实）

  核心问题：你的后端是"BasisPilot 贝领"，但前端是一个"通用聊天框"。

  产品文档里定义的商业逻辑非常清晰：加速学制 × 淘汰机制 = 刚需辅导，刚需辅导 × 师资稀缺 = AI 辅导蓝海。但当前 UI
  完全没有承载这个逻辑。

  ---
  二、应该满足的产品形态

  根据文档中定义的四类家长画像 + 三类服务对象（教师/学生/家长），产品应该是一个 三端分流的 AI
  辅导平台，而不是一个泛化聊天机器人：

  ┌──────────┬─────────────────────────────┬────────────────────────────────────────────┐
  │ 产品形态 │          当前状态           │                   应该是                   │
  ├──────────┼─────────────────────────────┼────────────────────────────────────────────┤
  │ 入口     │ 单一聊天框                  │ 角色选择入口 → 家长/学生/教师三条路径      │
  ├──────────┼─────────────────────────────┼────────────────────────────────────────────┤
  │ 首屏     │ 空白 + "Write your message" │ 场景化卡片（按五大转化时机组织）           │
  ├──────────┼─────────────────────────────┼────────────────────────────────────────────┤
  │ 交互     │ 纯文字对话                  │ 结构化输出 — 学习报告、AP选课表、GPA趋势图 │
  ├──────────┼─────────────────────────────┼────────────────────────────────────────────┤
  │ 商务     │ 无                          │ 嵌入转化漏斗 — 免费测评 → 体验课 → 课包    │
  └──────────┴─────────────────────────────┴────────────────────────────────────────────┘

  ---
  三、六大场景价值（按文档中的时机排序）

  #: 1
  场景: 入学备考
  家长心理: 兴奋+焦虑
  当前 Skills 覆盖: new-student-onboarding
  缺失/待增强: 缺少入学模拟测评（MAP/CTP 模考）
  ────────────────────────────────────────
  #: 2
  场景: 首次 Benchmark 后
  家长心理: 成绩出来，焦虑爆发
  当前 Skills 覆盖: student-assessment
  缺失/待增强: 缺少 GPA 诊断仪表盘 + 补救路径生成
  ────────────────────────────────────────
  #: 3
  场景: 学科日常辅导
  家长心理: 课跟不上
  当前 Skills 覆盖: math/science/humanities-tutoring
  缺失/待增强: 已有，但缺少交互式解题（LaTeX 公式渲染、步骤展开）
  ────────────────────────────────────────
  #: 4
  场景: Academic Probation
  家长心理: 恐慌
  当前 Skills 覆盖: 无专门 Skill
  缺失/待增强: 严重缺失 — 需要"保级方案生成器"
  ────────────────────────────────────────
  #: 5
  场景: AP 选课/备考
  家长心理: 规划下一年
  当前 Skills 覆盖: ap-exam-prep
  缺失/待增强: 缺少可视化选课推荐（依赖 curriculum-advisor）
  ────────────────────────────────────────
  #: 6
  场景: 商务/B端
  家长心理: 内部使用
  当前 Skills 覆盖: parent-psychology, sales-negotiation, school-market-analysis
  缺失/待增强: 已有，但应该是内部工具，不面向 C 端

  ---
  四、Skills 体系重构建议

  当前 11 个 Skills 是扁平列表，建议按用户旅程重组为三层：

  Skills 体系
  ├── C 端家长/学生面向
  │   ├── 🎯 入学测评         (new-student-onboarding → 升级为模拟测评)
  │   ├── 📊 学力诊断         (student-assessment → 升级为 GPA 仪表盘)
  │   ├── 📚 学科辅导
  │   │   ├── math-tutoring
  │   │   ├── science-tutoring
  │   │   └── humanities-tutoring
  │   ├── 📝 AP 备考          (ap-exam-prep)
  │   ├── 🗓️  选课规划         (→ 新增：可视化 AP 路径)
  │   ├── 🚨 保级方案         (→ 新增：Academic Probation 专项)
  │   └── 📖 学术词汇         (academic-vocabulary)
  │
  ├── B 端教师面向
  │   ├── 📋 教案生成         (lesson-planning)
  │   └── 🎓 EMI 教学法       (→ 新增：英语授课技巧)
  │
  └── 内部运营面向（不对 C 端开放）
      ├── 🧠 家长心理         (parent-psychology)
      ├── 💬 销售话术         (sales-negotiation)
      └── 📈 市场分析         (school-market-analysis)

  ---
  五、UI/UX 关键设计

  1. 首屏：角色分流 + 场景卡片

  当前 ChatInterface.tsx 是一个通用聊天框，placeholder 是 "Write your message..."。应该改造为：

  ┌────────────────────────────────────────────┐
  │  BasisPilot · 贝领                           │
  │                                            │
  │  ┌──────┐  ┌──────┐  ┌──────┐             │
  │  │ 👨‍👩‍👧 家长 │  │ 👨‍🎓 学生 │  │ 👩‍🏫 教师 │   ← 角色选择  │
  │  └──────┘  └──────┘  └──────┘             │
  │                                            │
  │  家长热门场景：                              │
  │  ┌────────────┐ ┌────────────┐             │
  │  │ 🎯 入学备考   │ │ 📊 成绩诊断  │            │
  │  │ 孩子即将入学  │ │ Benchmark 后 │            │
  │  └────────────┘ └────────────┘             │
  │  ┌────────────┐ ┌────────────┐             │
  │  │ 🚨 保级方案   │ │ 📝 AP 选课   │            │
  │  │ 面临 Probation│ │ 下学年规划   │             │
  │  └────────────┘ └────────────┘             │
  └────────────────────────────────────────────┘

  2. 对话中：结构化输出组件

  当前 ChatMessage.tsx 只渲染 Markdown。需要增加：

  - GPA 仪表盘组件 — 当 student-assessment 返回结果时，渲染为可视化卡片（GPA 趋势、科目雷达图）
  - AP 选课推荐卡片 — curriculum-advisor 的输出结构化为可点选的课程路径
  - 学科辅导步骤展开 — 数学/科学解题过程支持 LaTeX 渲染 + 步骤折叠
  - 保级方案时间线 — Academic Probation 方案渲染为时间线组件

  3. 侧边栏：学生档案

  当前 TasksFilesSidebar.tsx 展示 Tasks/Files，应该改为：

  侧边栏
  ├── 👤 学生档案（校区、年级、当前 GPA、AP 课程）
  ├── 📊 学力报告（历史诊断结果）
  ├── 📋 学习计划（进行中的辅导计划）
  └── 💬 对话历史

  4. 转化漏斗嵌入

  文档定义的漏斗：免费测评(60%) → 体验课(50%) → 短期课包(70%) → 长期签约

  在 UI 中体现为：
  - 免费区：入学测评、单次学科问答、学术词汇查询
  - 体验区：完整学力诊断报告（限 1 次）、AP 选课建议
  - 付费区：持续辅导对话、保级方案、个性化学习计划

  ---
  六、Sub-Agent 架构适配性

  当前 5 个 Agent 的对应关系：

  ┌────────────────────┬─────────────┬───────────────────────────────┐
  │       Agent        │  服务场景   │             评价              │
  ├────────────────────┼─────────────┼───────────────────────────────┤
  │ math-expert        │ 数学辅导    │ 已对齐                        │
  ├────────────────────┼─────────────┼───────────────────────────────┤
  │ science-expert     │ 科学辅导    │ 已对齐                        │
  ├────────────────────┼─────────────┼───────────────────────────────┤
  │ humanities-expert  │ 人文辅导    │ 已对齐                        │
  ├────────────────────┼─────────────┼───────────────────────────────┤
  │ curriculum-advisor │ AP选课/升学 │ 已对齐，但需要增加结构化输出  │
  ├────────────────────┼─────────────┼───────────────────────────────┤
  │ business-advisor   │ 内部商务    │ 不应面向 C 端，应拆为内部工具 │
  └────────────────────┴─────────────┴───────────────────────────────┘

  建议新增的 Agent：
  - assessment-expert — 专门做入学/学力测评，输出结构化诊断报告
  - probation-advisor — Academic Probation 保级专家，文档里说这是客单价最高的场景(★★★★★)

  ---
  七、总结：优先级排序

  ┌────────┬───────────────────────────────────────────┬───────────────────────────────────┐
  │ 优先级 │                   事项                    │               理由                │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P0     │ 首屏角色分流 + 场景卡片                   │ 当前 UI 和产品定位严重脱节        │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P0     │ 新增 probation-advisor Agent              │ 文档明确指出这是最高价值场景      │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P1     │ 结构化输出组件（GPA 仪表盘、AP 选课卡片） │ 从"聊天机器人"升级为"AI 辅导平台" │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P1     │ 学生档案侧边栏                            │ 支持个性化、持续跟踪              │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P2     │ 入学模拟测评 Skill                        │ 漏斗顶部引流                      │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P2     │ 商务 Agent 内部化                         │ 拆分 C 端/B 端/内部三套交互       │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P3     │ LaTeX 数学公式渲染                        │ 学科辅导体验提升                  │
  ├────────┼───────────────────────────────────────────┼───────────────────────────────────┤
  │ P3     │ 付费墙/转化逻辑                           │ 商业化落地                        │
  └────────┴───────────────────────────────────────────┴───────────────────────────────────┘

  你的后端智能体架构已经很扎实，核心 gap 在前端产品化 — 需要把一个通用 chat UI 改造成一个垂直于 BASIS
  家长/学生痛点的教育辅导平台。你怎么看这个方向？要先从哪个优先级开始？
  