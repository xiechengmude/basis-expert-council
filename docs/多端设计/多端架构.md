⏺ 对，同一套代码同时支持两端，但有区别：

  当前支持情况

  ┌─────────────────────────┬─────────────────────────────┬───────────────────────────┬────────────┐
  │           端            │          访问方式           │         登录方式          │    状态    │
  ├─────────────────────────┼─────────────────────────────┼───────────────────────────┼────────────┤
  │ Web 端（电脑浏览器）    │ 直接访问 http://域名:8015   │ 手机验证码登录            │ ✅ 可用    │
  ├─────────────────────────┼─────────────────────────────┼───────────────────────────┼────────────┤
  │ H5 端（微信内置浏览器） │ 微信内打开链接 / 公众号菜单 │ 微信一键登录 + 手机验证码 │ ✅ 可用    │
  ├─────────────────────────┼─────────────────────────────┼───────────────────────────┼────────────┤
  │ H5 端（手机普通浏览器） │ Safari / Chrome 打开        │ 手机验证码登录            │ ✅ 可用    │
  ├─────────────────────────┼─────────────────────────────┼───────────────────────────┼────────────┤
  │ 微信小程序              │ 微信搜索 / 扫码             │ —                         │ ❌ Phase 2 │
  └─────────────────────────┴─────────────────────────────┴───────────────────────────┴────────────┘

  核心设计

  同一个 Next.js 应用（basis-frontend :8015）
  ├── 响应式布局（Tailwind mobile-first）
  │   ├── 手机端：单列、紧凑间距、底部操作栏
  │   └── 桌面端：侧边栏、宽布局、更多信息展示
  ├── 登录页 /login
  │   ├── Tab 1「手机登录」→ 所有浏览器都能用
  │   └── Tab 2「微信登录」→ 仅微信内置浏览器有效
  └── 落地页 /landing → 产品介绍 + 定价（公开页面）

  一个注意点

  微信一键登录（OAuth）只在微信内置浏览器里生效。在电脑或手机普通浏览器里点「微信登录」会跳转到微信授权页，但用户需要用微
  信扫码，体验不如直接用手机验证码。所以：

  - 推广场景：公众号文章/家长群分享链接 → 微信内打开 → 微信一键登录（无缝）
  - 日常使用：电脑浏览器 → 手机验证码登录 → 大屏对话体验更好

  这符合计划里「先 H5 后小程序」的策略 —— H5 一周上线验证，小程序审核 2-4 周后再发布。


  架构总览（5 服务）

  用户 (微信 H5 / 手机浏览器)
           │
           ▼
  ┌─────────────────┐
  │  basis-frontend  │ :8015  Next.js 16
  │  登录/落地页/对话  │
  └──────┬──────┬───┘
         │      │
    业务API │   │ 对话流
         ▼      ▼
  ┌──────────┐ ┌──────────┐
  │ basis-api│ │basis-agent│ :5095  LangGraph
  │ (FastAPI)│ │ 5智能体    │
  │  :5096   │ │ 11 Skills │
  └────┬─────┘ └─────┬────┘
       │             │
       ▼             ▼
  ┌────────────────────────┐
  │   basis-postgres :5436  │  + basis-redis :6395
  │  checkpoints + 业务表   │
  └────────────────────────┘

  ---
  新增后端模块（4 个文件）

  ┌───────────────┬─────────────────────────────────────────────────┬──────┐
  │     文件      │                      功能                       │ 状态 │
  ├───────────────┼─────────────────────────────────────────────────┼──────┤
  │ db.py         │ 连接池 + 4 张业务表 CRUD（用户/订阅/用量/购买） │ ✅   │
  ├───────────────┼─────────────────────────────────────────────────┼──────┤
  │ auth.py       │ 微信 H5 OAuth + JWT 签发/验证 + Supabase 对接   │ ✅   │
  ├───────────────┼─────────────────────────────────────────────────┼──────┤
  │ server.py     │ 独立 FastAPI 业务 API（8 个端点）               │ ✅   │
  ├───────────────┼─────────────────────────────────────────────────┼──────┤
  │ middleware.py │ 配额检查工具函数                                │ ✅   │
  └───────────────┴─────────────────────────────────────────────────┴──────┘

  新增前端页面（6 个文件）

  ┌────────────────┬────────────────────────────┬──────┐
  │      页面      │            功能            │ 状态 │
  ├────────────────┼────────────────────────────┼──────┤
  │ /login         │ 手机验证码 + 微信一键登录  │ ✅   │
  ├────────────────┼────────────────────────────┼──────┤
  │ /landing       │ 产品介绍 + 定价 + 增值服务 │ ✅   │
  ├────────────────┼────────────────────────────┼──────┤
  │ QuotaBanner    │ 配额显示（正常/预警/耗尽） │ ✅   │
  ├────────────────┼────────────────────────────┼──────┤
  │ useUser hook   │ 用户信息 + 配额获取        │ ✅   │
  ├────────────────┼────────────────────────────┼──────┤
  │ ClientProvider │ 自动注入 JWT 到 API 请求   │ ✅   │
  ├────────────────┼────────────────────────────┼──────┤
  │ 主页 page.tsx  │ 会员标识 + 配额栏 + 中文化 │ ✅   │
  └────────────────┴────────────────────────────┴──────┘